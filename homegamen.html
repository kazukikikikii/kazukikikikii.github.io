<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>ココまも</title>
        <meta name="description" content="アバターAIによる10代を対象とした相談相手">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <!--リセットCSS-->
        <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">

        <!--オリジナルCSS-->
        <link rel="stylesheet" href="css/home-style.css">
    </head>
    <body>
        <header>
            <nav class="menu-bar">
                <button class="btn-menu"><img class="menu-img" src="images/menu3.png"></button>
                <ul class="main-nav" id="links">
                    <li><a href="">ホーム</a></li>
                    <li><a href="keiziban.html">掲示板</a></li>
                    <li><a href="avatarset.html">アバター</a></li>
                    <li><a href="osirase.html">お知らせ</a></li>
                    <li><a href="settei.html">設定</a></li>
                    <li><a href="index.html">ログアウト</a></li>
                </ul>
            </nav>
        </header>
        <!--<audio id="my-audio">
        <source src="musics/kirei.mp3" type="audio/mpeg">
        </audio>
        <button onclick="audioplay()">bgmを再生</button>
            <script>
                function audioplay(){
                    const audio = document.getElementById('my-audio');
                    audio.play();
                    audio.loop = true;
                }
            </script>-->
        <div class="avatar">
            <img id="mypic" onclick="slideshow()" src="images/girl1_normal.png"><br>
                <script>
                var pics_src = new Array("images/girl1_normal.png","images/girl1_smile.png","images/girl1_upset.png","images/girl1_cry.png","images/boy1_normal.png","images/boy1_smile.png","images/boy1_upset.png","images/boy1_cry.png");
                var num = 0;
                function slideshow(){
                    if (num == 3) {
                        num = 0;
                    }
                    else if(num == 7){
                        num = 4;
                    }
                    else {
                        num ++;
                    }
                    document.getElementById("mypic").src=pics_src[num];
                }
                </script>
            <button onclick="henkou()">アバターを変更する</button>
                <script>   
                function henkou(){
                    if (num < 4){
                        num = 4;
                        document.getElementById("mypic").src=pics_src[num];
                    }
                    else{
                        num = 0;
                        document.getElementById("mypic").src=pics_src[num];
                    }
                }
                </script>
        </div>

         <div class="chat-box">

            <div class="chat-container">
                <div class="messages" class="messages_A" class="messages_B" id="messages"></div>
                <div class="input-container">
                    <input type="text" id="userInput" placeholder="Aa">
                    <button onclick="sendMessage()">
                        <div class="hikouki"><img src="images/hikouki.png"></div>
                    </button>
                        
                </div>
            </div>

            <script>
                function sendMessage() {
                    var userInput = document.getElementById('userInput').value;
                    if (userInput.trim() === '') return;
    
                    var messages = document.getElementById('messages');
    
                    var userMessage = document.createElement('div');
                    userMessage.classList.add('message', 'user');
                    userMessage.innerHTML = `<p>${userInput}</p>`;
                    messages.appendChild(userMessage);
    
                    document.getElementById('userInput').value = '';
    
                    // AIからの応答をシミュレート（ここでAPIを呼び出す）
                    setTimeout(function() {
                        var aiResponse = document.createElement('div');
                        aiResponse.classList.add('message', 'ai');
                        aiResponse.innerHTML = `<p>何かご用件はありますか？</p>`;
                        messages.appendChild(aiResponse);
                        messages.scrollTop = messages.scrollHeight;
                    }, 1000);
                }
            </script>
        </div>
    <script src="script-menu.js"></script>
    </body>
</html>
